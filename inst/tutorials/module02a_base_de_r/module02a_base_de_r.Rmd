---
title: "Les bases de R : découverte de l'outils"
author : "Guyliann Engels & Philippe Grosjean"
output: 
  learnr::tutorial:
  progressive: TRUE
runtime: shiny_prerendered
---

```{r setup, include=FALSE}
library(learnr)
knitr::opts_chunk$set(echo = FALSE)
library(knitr)
library(chart)
library(data)
library(tidyverse)

# Dataset
urchin <- data::read(file = "urchin_bio", package = "data")
```


## Objectif

Ce tutoriel a pour objectif de vous permettre de :

- Découvrir les bases du language R  

```{r, out.width = "50%"}
include_graphics(path = "images/Rlogo.png")
```


Il est important de préciser que l'ensemble de vos résultats est collecté afin de suivre votre progression. Ce test n'est cependant pas certificatif.

## Introduction 

R est un language de programmation **Open source**  axée sur l'analyse de données. Ce language date de 1993 et prend ces sources du language S. 

R permet entre autres la manipulation, la visualisation et l'application de calculs statistiques sur des données. 

## R,  une calculette scientifique

Vous pouvez tout d'abord employer R comme une calculatice (ce qui est bien réducteur de la puissance de cet outil). Les opérations de base sont directement utilisable dans R. 

| Opérations de bases | Symboles |
|------------------|---------------|
| additions | `+` |
| soustractions | `-` |
| divisions | `/` | 
| multiplications | `*` | 
| exponentiations | `^` |

Voici un premier exemple simple

```{r calculatrice, echo= TRUE}
4 + 5
```

Multipliez les nombres `15` et `23`

```{r calcul1, exercise = TRUE}

```

```{r calcul1-solution}
15 * 23
```


Vous pouvez également utiliser des fonctions mathématiques directement implementer dans R comme le logarithme en base 10 avec la `fonction` : `log()`. Ce language a été mise au point pour suivre les conventions des mathématiques et des statistiques comme le respect de l'ordre des opérations.

```{r, echo= TRUE}
log(4 + 5)
```


Calculez l'exponentiel dont la fonction est `exp()` de la soustraction de `23` et `15`.

```{r calcul2, exercise = TRUE}

```

```{r calcul2-solution}
exp(23 - 15)
```


## R, les assignations

Vous pouvez être amené dans vos recherches à `assigner` une valeur particulière à une chaine de caractères que vous réutiliserez par la suite. L'instruction permettant cela est une simple flèche (`<-`).

```{r assignation, echo = TRUE}
a <- 5
b <- 4 + 3
# addition de la valeur de a et de b
a + b
```

Assignez la valeur `18` à la lettre `a` et la `division` de `12` par `14` à `b`. Multipliez ensuite a par b.

```{r assig1, exercise = TRUE}
# assignation de a
a <- 

# assignation de b
  
# multiplication de a par b

```

```{r assig1-solution}
# assignation de a
a <- 18
# assignation de b
b <- 12 / 14
# Multiplication de a par b
a * b
```

L'assignation peut également être faite sur une série de nombres ou sur une série de caractères avec la fonction `c()`.

```{r vecteur, echo = TRUE}
vecteur <- c(2, 5, 8, 11, 13, 16)

vecteur_1 <- c(2, 5, NA, 11, 13, 16)

vecteur_1 <- c("noir", "jaune", "rouge")
```

Assignez les valeurs `15 , 19, une valeur manquante (NA) et 13`. Multipliez ensuite ce vecteur par `4` et assignez cela sur vecteur_b. Terminez par affichez les valeurs du vecteur_b en écrivant simplement vecteur_b dans la console R.

```{r vec1, exercise = TRUE}
# assignation des valeurs à un vecteur
vecteur <- 
# multipliez ce vecteur par 4 et assignez le

# affichez le résultat de votre calcul.

```

```{r vec1-solution}
#assignation des valeurs à un vecteur
vecteur <- c(15, 19, NA, 13)
#multipliez ce vecteur par 4
vecteur_b <- vecteur*4
# afficher le résultat de cette multiplication
vecteur_b
```


## R, les fonctions

Réalisez la moyenne du vecteur réalisé précédement avec la fonction `mean()`.

```{r vec2, exercise = TRUE}
# assignation des valeurs à `vecteurs`
vecteur <- c(15, 19, NA, 13)
# moyenne du vecteur

```

```{r vec2-solution}
# assignation des valeurs à `vecteurs`
vecteur <- c(15, 19, NA, 13)
# somme du vecteur
mean(vecteur)
```

La valeur obtenue ne vous convient pas ? Il semble que la valeur manquante induit un problème dans le calcul de la moyenne du vecteur.

L'outil indispensable dans vous ne devez jamais oublier l'existance est l'aide des fonctions. Pour appeler l'aide, vous devez ajouter un point d'interrogation devant une fonction. 

Prenez l'exemple de la fonction `log()`

```{r, echo = TRUE}
?log()
```

Appelez l'aide sur la fonction `mean()`.

```{r aide, exercise = TRUE}

```


```{r aide-solution}
?mean()
```

Comme vous avez pu le voir ci-dessus, les fonctions sont largement documentées. L 'argument `na.rm = ` est par défault encodé avec comme valeur `FALSE`. Cela peut se traduire par notre vecteur ne contient pas de valeurs manquantes. 

Notre exemple contient une valeur manquante, vous devez donc ajouter l'argument `na.rm = TRUE` dans votre fonction `mean()`. La séparation entre plusieurs argument au sein d'une même fonction est la virgule (`,`).

Réalisez la moyenne du vecteur réalisé précédement avec la fonction `mean()`

```{r vec3, exercise = TRUE}
# assignation des valeurs à `vecteurs`
vecteur <- c(15, 19, NA, 13)
# somme du vecteur

```

```{r vec3-solution}
# assignation des valeurs à `vecteurs`
vecteur <- c(15, 19, NA, 13)
# somme du vecteur
mean(vecteur, na.rm = TRUE)
```

Vous obtenez cette fois-ci la réponse souhaitée.


## Conclusion

Bravo! Vous venez de terminez votre première séance d'exercice dans un learnr. 

Durant cette séance, vous avez appris à : 

- employer l'assignation 
- employer des fonctions 
- utiliser l'aide au fonctions
